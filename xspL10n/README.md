xspL10n
=======

Utitlites for working with XPages localization files generated by IBM Lotus Notes.
XPages localization files are generated as \*.properties files in CustomControls and XPages folders.
Each custom control and each XPage generates one file per language, so you have files=(count(XPages) + count(controls)) * count(languages). These scripts can be used to join these files in one big file per language.
These scripts are to by used externally (not in Designer). You need to have python (www.python.org) installed. 
Property files have to be exported from NSF to a disk project. You can do it in two ways:
* by using Team Development / Set up source control for this application
* by opening project in Navigator or Project Explorer view, right clicking on project and selecting Export option

The general workflow for translating files is as follows:
* export property fiels from NSF to a disk project
* run python export.py to join these files into one big file
* translate this file
* run python import.py to update files on disk with translated file
* import project from disk to NSF database


python export.py [path]
=======================

Joins all \*.properties files into one big file.

path - optional path to Lotus Notes project (exported database using Team Development menu). If not given the current directory is used.

This script joins all language files in XPages and CustomControls subdirectories.  
The files are first grouped by language (language is taken from filename eg. \_en, \_pl, \_de).  
Then a file for each language is written with name all\_{lang}.properties where {lang} is language code.  
For example: two files  
* XPages/home\_en.properties  
* CustomControls/layout_en.properties  
are joined into all\_en.properties

This file can be send to translators. When they finish translating the file it can be imported (splitted) into Lotus project.
In a joined file there are special comments starting with #! that separate entries for each file. These comments have to be left intact. 

python import.py filetoimport [path]
====================================

Splits a translated file into \*.properties files in XPages and CustomControls directories.

filetoimport - name of a file to import (eg. all_de.properties)  
path - optional path to Lotus Notes project (exported database using Team Development menu). If not given the current directory is used.

This script reads the filetoimport file and writes *.properties files into XPages and CustomControls directories. You can now use Team Development/Sync with On-Disk project in Designer to import these files to Lotus database.
